!function(e){var h=37;var f=null;var g=function(o){var m=arguments,l=true,n=1;o=o.replace(/%s/g,function(){var p=m[n++];if(typeof p==="undefined"){l=false;return""}return p});return l?o:""};var b=function(n,p,o,m){var l="";e.each(n,function(q,r){if(r[p]===m){l=r[o];return false}return true});return l};var d=function(m,n){var l=-1;e.each(m,function(o,p){if(p.field===n){l=o;return false}return true});return l};var a=function(){if(f===null){var n=e("<p/>").addClass("fixed-table-scroll-inner"),o=e("<div/>").addClass("fixed-table-scroll-outer"),m,l;o.append(n);e("body").append(o);m=n[0].offsetWidth;o.css("overflow","scroll");l=n[0].offsetWidth;if(m===l){l=o[0].clientWidth}o.remove();f=m-l}return f};var k=function(m,o,n,l){if(typeof o==="string"){var p=o.split(".");if(p.length>1){o=window;e.each(p,function(q,r){o=o[r]})}else{o=window[o]}}if(typeof o==="object"){return o}if(typeof o==="function"){return o.apply(m,n)}return l};var j=function(l){if(typeof l==="string"){return l.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}return l};var c=function(m,l){this.options=l;this.$el=e(m);this.$el_=this.$el.clone();this.timeoutId_=0;this.timeoutFooter_=0;this.init()};c.DEFAULTS={classes:"table table-hover",height:undefined,undefinedText:"-",editable:false,sortName:undefined,sortOrder:"asc",striped:true,columns:[],data:[],method:"post",url:undefined,cache:false,contentType:"application/x-www-form-urlencoded",dataType:"json",ajaxOptions:{},baseParams:{},queryParams:function(l){return l},queryParamsType:"limit",responseHandler:function(l){return l},refreshBButton:undefined,switchRefreshConfig:{selector:"div.search-config",cls:"search-loading"},pagination:true,sidePagination:"server",totalRows:0,pageNumber:1,pageSize:10,pageList:[5,10,20,30,40,50],paginationHAlign:"right",paginationVAlign:"bottom",paginationDetailHAlign:"left",search:false,searchAlign:"right",selectItemName:"btSelectItem",showHeader:true,showFooter:false,showColumns:false,showPaginationSwitch:false,showRefresh:false,showBottomRefresh:true,showToggle:false,buttonsAlign:"right",smartDisplay:true,minimumCountColumns:1,idField:undefined,uniqueId:undefined,cardView:false,trimOnSearch:true,clickToSelect:false,singleSelect:false,toolbar:undefined,toolbarAlign:"left",checkboxHeader:true,sortable:true,maintainSelected:false,searchTimeOut:500,keyEvents:false,searchText:"",clickToEdit:1,includeFields:undefined,iconSize:undefined,iconsPrefix:"glyphicon",icons:{paginationSwitchDown:"glyphicon-collapse-down icon-chevron-down",paginationSwitchUp:"glyphicon-collapse-up icon-chevron-up",refresh:"glyphicon-refresh icon-refresh",toggle:"glyphicon-list-alt icon-list-alt",columns:"glyphicon-th icon-th"},rowStyle:function(m,l){return{}},rowAttributes:function(m,l){return{}},onAll:function(m,l){return false},onClickRow:function(m,l){return false},onDblClickRow:function(m,l){return false},onSort:function(m,l){return false},onCheck:function(l){return false},onUncheck:function(l){return false},onCheckAll:function(){return false},onUncheckAll:function(){return false},onLoadSuccess:function(l){return false},onLoadError:function(l){return false},onColumnSwitch:function(m,l){return false},onColumnSearch:function(l,m){return false},onPageChange:function(m,l){return false},onSearch:function(l){return false},onPreBody:function(l){return false},onPostBody:function(){return false},onPostHeader:function(){return false}};c.LOCALES=[];c.LOCALES["zh-CN"]={formatLoadingMessage:function(){return"正在努力地加载数据中，请稍候……"},formatRecordsPerPage:function(l){return"每页显示 "+l+" 条记录"},formatShowingRows:function(n,l,m){return"显示第 "+n+" 到第 "+l+" 条记录，总共 "+m+" 条记录"},formatSearch:function(){return"搜索"},formatNoMatches:function(){return"没有找到匹配的记录"},formatPaginationSwitch:function(){return"隐藏/显示分页"},formatRefresh:function(){return"刷新"},formatToggle:function(){return"切换"},formatColumns:function(){return"列"},formatAllRows:function(){return"全部"}};e.extend(c.DEFAULTS,c.LOCALES["zh-CN"]);c.COLUMN_DEFAULTS={radio:false,checkbox:false,checkboxEnabled:true,field:undefined,title:undefined,"class":undefined,align:"center",halign:"center",falign:"center",valign:"bottom",width:undefined,sortable:false,order:"asc",visible:true,switchable:true,clickToSelect:true,formatter:undefined,footerFormatter:undefined,events:undefined,sorter:undefined,cellStyle:undefined,searchable:true,cardVisible:true,editable:false,etype:undefined,queryParams:undefined,blur:undefined,selectData:undefined,filterControl:undefined};c.EVENTS={"all.bs.table":"onAll","click-row.bs.table":"onClickRow","dbl-click-row.bs.table":"onDblClickRow","sort.bs.table":"onSort","check.bs.table":"onCheck","uncheck.bs.table":"onUncheck","check-all.bs.table":"onCheckAll","uncheck-all.bs.table":"onUncheckAll","load-success.bs.table":"onLoadSuccess","load-error.bs.table":"onLoadError","column-switch.bs.table":"onColumnSwitch","column-search.bs.table":"onColumnSearch","page-change.bs.table":"onPageChange","search.bs.table":"onSearch","pre-body.bs.table":"onPreBody","post-body.bs.table":"onPostBody","post-header.bs.table":"onPostHeader"};c.prototype.init=function(){this.initContainer();this.initTable();this.initHeader();this.initData();this.initFooter();this.initToolbar();this.initPagination();this.initBody();this.initServer();this.initKeyEvents()};c.prototype.initContainer=function(){this.$container=e(['<div class="bootstrap-table">','<div class="fixed-table-toolbar"></div>',this.options.paginationVAlign==="top"||this.options.paginationVAlign==="both"?'<div class="fixed-table-pagination" style="clear: both;"></div>':"",'<div class="fixed-table-container">','<div class="fixed-table-header"><table></table></div>','<div class="fixed-table-body">','<div class="fixed-table-loading">',this.options.formatLoadingMessage(),"</div>","</div>",'<div class="fixed-table-footer"><table><tr></tr></table></div>',this.options.paginationVAlign==="bottom"||this.options.paginationVAlign==="both"?'<div class="fixed-table-pagination"></div>':"","</div>","</div>"].join(""));this.$container.insertAfter(this.$el);this.$container.find(".fixed-table-body").append(this.$el);this.$container.after('<div class="clearfix"></div>');this.$loading=this.$container.find(".fixed-table-loading");this.$el.addClass(this.options.classes);if(this.options.striped){this.$el.addClass("table-striped")}};c.prototype.initTable=function(){var n=this,m=[],l=[],o=[];this.$header=this.$el.find("thead");if(!this.$header.length){this.$header=e("<thead></thead>").appendTo(this.$el)}if(!this.$header.find("tr").length){this.$header.append("<tr></tr>")}this.$header.find("th").each(function(){var p=e.extend({},{title:e(this).html(),"class":e(this).attr("class")},e(this).data());m.push(p)});this.options.columns=e.extend(true,[],m,this.options.columns);e.each(this.options.columns,function(p,q){n.options.columns[p]=e.extend({},c.COLUMN_DEFAULTS,{field:p},q);if(q.url){n.refreshSelectData(q,p)}if(n.options.columns[p].selectData){if(!n.options.columns[p].formatter){if(n.options.columns[p].etype=="multiple"){n.options.columns[p].formatter=function(t,u,x){var s=new Array();if(t){var w=t.split(",");e.each(n.options.columns[p].selectData,function(v,y){if(e.inArray(y[q.hideField||"id"]+"",w)>-1){s.push(y[q.displayField||"name"])}})}return s.join(",")}}else{if(n.options.columns[p].etype=="radio"){n.options.columns[p].formatter=function(s,u,w){var t="";if(s){e.each(n.options.columns[p].selectData,function(v,x){if(s==x["value"]){t=x["label"]}})}return t}}else{n.options.columns[p].formatter=function(s,u,w){var t="";if(s){e.each(n.options.columns[p].selectData,function(v,x){if(s==x[q.hideField||"id"]){t=x[q.displayField||"name"]}})}return t}}}}}if(!n.options.includeFields){if(q.field){if(q.field.indexOf(".")>-1){var r=q.field.split(".")[0];if(q.hideField&&e.inArray(r+"."+(q.hideField||"id"),l)<0){l.push(r+"."+(q.hideField||"id"))}if(q.displayField){l.push(r+"."+(q.displayField||"name"))}if(!(q.hideField||q.displayField)){if(e.inArray(r+".id",l)<0){l.push(r+".id")}l.push(q.field)}}else{if(e.inArray(q.field,l)<0){l.push(q.field)}}}}});if(this.options.data.length){return}if(l.length>0){this.options.includeFields=l.join(",")}this.$el.find("tbody tr").each(function(){var p={};p._id=e(this).attr("id");p._class=e(this).attr("class");e(this).find("td").each(function(q){var r=n.options.columns[q].field;p[r]=e(this).html();p["_"+r+"_id"]=e(this).attr("id");p["_"+r+"_class"]=e(this).attr("class");p["_"+r+"_data"]=e(this).data()});o.push(p)});this.options.data=o};c.prototype.initHeader=function(){var o=this,l=[],m=[],p=false,q=0;this.header={fields:[],styles:[],classes:[],formatters:[],events:[],sorters:[],cellStyles:[],clickToSelects:[],searchables:[]};if(this.options.isCookieColumns){var n=e.cookie(this.$el.attr("id"));e.each(this.options.columns,function(r,s){if(n&&n.indexOf(s.field)>=0){s.visible=false}})}e.each(this.options.columns,function(v,u){var B="",x="",z="",r="",y=g(' class="%s"',u["class"]),t=o.options.sortOrder||u.order,A=true,s="px",w="hidden";if(!u.visible){return}if(o.options.cardView&&(!u.cardVisible)){return}if(u.width!==undefined){if(typeof u.width==="string"){if(u.width.indexOf("%")>-1){s="%"}u.width=u.width.replace("%","").replace("px","")}}x=g("text-align: %s; ",u.halign?u.halign:u.align);z=g("text-align: %s; ",u.align);r=g("vertical-align: %s; ",u.valign);r+=g("width: %s"+s+"; ",u.checkbox||u.radio?36:u.width);l.push(u);o.header.fields.push(u.field);o.header.styles.push(z+r);o.header.classes.push(y);o.header.formatters.push(u.formatter);o.header.events.push(u.events);o.header.sorters.push(u.sorter);o.header.cellStyles.push(u.cellStyle);o.header.clickToSelects.push(u.clickToSelect);o.header.searchables.push(u.searchable);m.push("<th",u.checkbox||u.radio?g(' class="bs-checkbox %s"',u["class"]||""):y,g(' style="%s"',x+r),">");m.push(g('<div class="th-inner %s">',o.options.sortable&&u.sortable?"sortable":""));B=u.title;if(o.options.sortName===u.field&&o.options.sortable&&u.sortable){B+=o.getCaretHtml()}if(u.checkbox){if(!o.options.singleSelect&&o.options.checkboxHeader){B='<input name="btSelectAll" type="checkbox" />'}o.header.stateField=u.field}if(u.radio){B="";o.header.stateField=u.field;o.options.singleSelect=true}m.push(B);m.push("</div>");m.push('<div class="fht-cell"></div>');m.push('<div style="margin: 0px 2px 2px 2px;" class="filterControl">');if(u.filterControl&&u.searchable){p=true;w="visible"}if(u.filterControl!==undefined){switch(u.filterControl.toLowerCase()){case"input":m.push(g('<input type="text" class="form-control" style="width: 100%; visibility: %s">',w));break;case"select":m.push(g('<select class="%s form-control" style="width: 100%; visibility: %s"></select>',u.field,w));break}}else{m.push('<div style="height: 34px;"></div>')}m.push("</div>");m.push("</th>")});this.$header.find("tr").html(m.join(""));this.$header.find("th").each(function(r){e(this).data(l[r])});this.$container.off("click",".th-inner").on("click",".th-inner",function(r){if(o.options.sortable&&e(this).parent().data().sortable){o.onSort(r)}});if(!this.options.showHeader||this.options.cardView){this.$header.hide();this.$container.find(".fixed-table-header").hide();this.$loading.css("top",0)}else{this.$header.show();this.$container.find(".fixed-table-header").show();this.$loading.css("top",h+"px")}this.$selectAll=this.$header.find('[name="btSelectAll"]');this.$container.off("click",'[name="btSelectAll"]').on("click",'[name="btSelectAll"]',function(){var r=e(this).prop("checked");o[r?"checkAll":"uncheckAll"]()});if(p){this.$header.off("keyup","input").on("keyup","input",function(r){clearTimeout(q);q=setTimeout(function(){o.onColumnSearch(r)},o.options.searchTimeOut)});this.$header.off("change","select").on("change","select",function(r){clearTimeout(q);q=setTimeout(function(){o.onColumnSearch(r)},o.options.searchTimeOut)})}else{this.$header.find(".filterControl").hide()}};c.prototype.initFooter=function(){this.$footer=this.$container.find(".fixed-table-footer");if(!this.options.showFooter||this.options.cardView){this.$footer.hide()}else{this.$footer.show()}};c.prototype.initData=function(m,l){if(l==="append"){this.data=this.data.concat(m)}else{if(l==="prepend"){this.data=[].concat(m).concat(this.data)}else{this.data=m||this.options.data}}this.options.data=this.data;if(this.options.sidePagination==="server"){return}this.initSort()};c.prototype.initSort=function(){var o=this,n=this.options.sortName,l=this.options.sortOrder==="desc"?-1:1,m=e.inArray(this.options.sortName,this.header.fields);if(m!==-1){this.data.sort(function(q,p){var s=q[n],t=p[n],r=k(o.header,o.header.sorters[m],[s,t]);if(r!==undefined){return l*r}if(r!==undefined){return l*r}if(s===undefined||s===null){s=""}if(t===undefined||t===null){t=""}if(e.isNumeric(s)&&e.isNumeric(t)){s=parseFloat(s);t=parseFloat(t);if(s<t){return l*-1}return l}if(s===t){return 0}if(typeof s!=="string"){s=s.toString()}if(s.localeCompare(t)===-1){return l*-1}return l})}};c.prototype.onSort=function(l){var n=e(l.currentTarget).parent(),m=this.$header.find("th").eq(n.index());this.$header.add(this.$header_).find("span.order").remove();if(this.options.sortName===n.data("field")){this.options.sortOrder=this.options.sortOrder==="asc"?"desc":"asc"}else{this.options.sortName=n.data("field");this.options.sortOrder=n.data("order")==="asc"?"desc":"asc"}this.trigger("sort",this.options.sortName,this.options.sortOrder);n.add(m).data("order",this.options.sortOrder).find(".th-inner").append(this.getCaretHtml());if(this.options.sidePagination==="server"){this.initServer();return}this.initSort();this.initBody()};c.prototype.initToolbar=function(){var q=this,o=[],s=0,n,r,m=0;this.$toolbar=this.$container.find(".fixed-table-toolbar").html("");if(typeof this.options.toolbar==="string"){e(g('<div class="bars pull-%s"></div>',this.options.toolbarAlign)).appendTo(this.$toolbar).append(e(this.options.toolbar))}o=[g('<div class="columns columns-%s btn-group pull-%s">',this.options.buttonsAlign,this.options.buttonsAlign)];if(typeof this.options.icons==="string"){this.options.icons=k(null,this.options.icons)}if(this.options.showPaginationSwitch){o.push(g('<button class="btn btn-default" type="button" name="paginationSwitch" title="%s">',this.options.formatPaginationSwitch()),g('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.paginationSwitchDown),"</button>")}if(this.options.showRefresh){o.push(g('<button class="btn btn-default'+(this.options.iconSize===undefined?"":" btn-"+this.options.iconSize)+'" type="button" name="refresh" title="%s">',this.options.formatRefresh()),g('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.refresh),"</button>")}if(this.options.showToggle){o.push(g('<button class="btn btn-default'+(this.options.iconSize===undefined?"":" btn-"+this.options.iconSize)+'" type="button" name="toggle" title="%s">',this.options.formatToggle()),g('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.toggle),"</button>")}if(this.options.showColumns){o.push(g('<div class="keep-open btn-group" title="%s">',this.options.formatColumns()),'<button type="button" class="btn btn-default'+(this.options.iconSize==undefined?"":" btn-"+this.options.iconSize)+' dropdown-toggle" data-toggle="dropdown">',g('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.columns),' <span class="caret"></span>',"</button>",'<ul class="dropdown-menu" role="menu">');var p=q.$el.attr("id");e.each(this.options.columns,function(t,u){if(u.radio||u.checkbox){return}if(q.options.cardView&&(!u.cardVisible)){return}var v=u.visible?' checked="checked"':"";if(u.switchable){o.push(g("<li>"+'<label><input type="checkbox" data-tableId = %s data-field="%s" value="%s"%s> %s</label>'+"</li>",p,u.field,t,v,u.title));m++}});o.push("</ul>","</div>")}o.push("</div>");if(this.showToolbar||o.length>2){this.$toolbar.append(o.join(""))}if(this.options.showPaginationSwitch){this.$toolbar.find('button[name="paginationSwitch"]').off("click").on("click",e.proxy(this.togglePagination,this))}if(this.options.showRefresh){this.$toolbar.find('button[name="refresh"]').off("click").on("click",e.proxy(this.refresh,this))}if(this.options.showToggle){this.$toolbar.find('button[name="toggle"]').off("click").on("click",function(){q.toggleView()})}if(this.options.showColumns){n=this.$toolbar.find(".keep-open");if(m<=this.options.minimumCountColumns){n.find("input").prop("disabled",true)}n.find("li").off("click").on("click",function(t){t.stopImmediatePropagation()});var l=this.options.isCookieColumns;n.find("input").off("click").on("click",function(){var v=e(this);if(l){var u=e.cookie(v.data("tableid"));var t=v.data("field");if(!v.prop("checked")){if(u){if(u.indexOf(t)==-1){u+=","+t}}else{u=v.data("field")}}else{if(u&&u.indexOf(t)>=0){u=u.replace(t,"")}}e.cookie(v.data("tableid"),u,{expires:1000})}q.toggleColumn(v.val(),v.prop("checked"),false);q.trigger("column-switch",e(this).data("field"),v.prop("checked"))})}if(this.options.search){o=[];o.push('<div class="pull-'+this.options.searchAlign+' search">',g('<input class="form-control'+(this.options.iconSize===undefined?"":" input-"+this.options.iconSize)+'" type="text" placeholder="%s">',this.options.formatSearch()),"</div>");this.$toolbar.append(o.join(""));r=this.$toolbar.find(".search input");r.off("keyup").on("keyup",function(t){clearTimeout(s);s=setTimeout(function(){q.onSearch(t)},q.options.searchTimeOut)});if(this.options.searchText!==""){r.val(this.options.searchText);clearTimeout(s);s=setTimeout(function(){r.trigger("keyup")},q.options.searchTimeOut)}}};c.prototype.onSearch=function(l){var m=e.trim(e(l.currentTarget).val());if(this.options.trimOnSearch&&e(l.currentTarget).val()!==m){e(l.currentTarget).val(m)}if(m===this.searchText){return}this.searchText=m;this.options.pageNumber=1;this.initSearch();this.updatePagination();this.trigger("search",m)};c.prototype.onColumnSearch=function(m,o){var n=e.trim(e(m.currentTarget).val());var l=e(m.currentTarget).parent().parent().data("field");if(e.isEmptyObject(this.filterColumnsPartial)){this.filterColumnsPartial={}}if(n){this.filterColumnsPartial[l]=n}else{delete this.filterColumnsPartial[l]}this.options.pageNumber=1;this.initSearch();this.updatePagination()};c.prototype.initSearch=function(){var n=this;if(this.options.sidePagination!=="server"){var m=this.searchText&&this.searchText.toLowerCase();var o=e.isEmptyObject(this.filterColumns)?null:this.filterColumns;var l=e.isEmptyObject(this.filterColumnsPartial)?null:this.filterColumnsPartial;this.data=o?e.grep(this.options.data,function(r,q){for(var p in o){if(r[p]!==o[p]){return false}}return true}):this.options.data;this.data=l?e.grep(this.data,function(s,r){for(var q in l){var p=l[q].toLowerCase();var t=s[q];t=k(n.header,n.header.formatters[e.inArray(q,n.header.fields)],[t,s,r],t);if(!(e.inArray(q,n.header.fields)!==-1&&(typeof t==="string"||typeof t==="number")&&(t+"").toLowerCase().indexOf(p)!==-1)){return false}}return true}):this.data;this.data=m?e.grep(this.data,function(s,r){for(var q in s){q=e.isNumeric(q)?parseInt(q,10):q;var t=s[q];t=k(n.header,n.header.formatters[e.inArray(q,n.header.fields)],[t,s,r],t);var p=e.inArray(q,n.header.fields);if(p!==-1&&n.header.searchables[p]&&(typeof t==="string"||typeof t==="number")&&(t+"").toLowerCase().indexOf(m)!==-1){return true}}return false}):this.data}};c.prototype.initPagination=function(){this.$pagination=this.$container.find(".fixed-table-pagination");if(!this.options.pagination){this.$pagination.hide();return}else{this.$pagination.show()}var p=this,s=[],l=false,v,u,m,r,z,B,x,t,o,q,C=this.getData();if(this.options.sidePagination!=="server"){this.options.totalRows=C.length}this.totalPages=0;if(this.options.totalRows){if(this.options.pageSize===this.options.formatAllRows()){this.options.pageSize=this.options.totalRows;l=true}else{if(this.options.pageSize===this.options.totalRows){var A=typeof this.options.pageList==="string"?this.options.pageList.replace("[","").replace("]","").replace(/ /g,"").toLowerCase().split(","):this.options.pageList;if(A.indexOf(this.options.formatAllRows().toLowerCase())>-1){l=true}}}this.totalPages=~~((this.options.totalRows-1)/this.options.pageSize)+1;this.options.totalPages=this.totalPages}if(this.totalPages>0&&this.options.pageNumber>this.totalPages){this.options.pageNumber=this.totalPages}this.pageFrom=(this.options.pageNumber-1)*this.options.pageSize+1;this.pageTo=this.options.pageNumber*this.options.pageSize;if(this.pageTo>this.options.totalRows){this.pageTo=this.options.totalRows}s.push('<div class="pull-'+this.options.paginationDetailHAlign+' pagination-detail">','<span class="pagination-info">',this.options.formatShowingRows(this.pageFrom,this.pageTo,this.options.totalRows),"</span>");s.push('<span class="page-list">');var y=[g('<span class="btn-group %s">',this.options.paginationVAlign==="top"||this.options.paginationVAlign==="both"?"dropdown":"dropup"),'<button type="button" class="btn btn-default '+(this.options.iconSize===undefined?"":" btn-"+this.options.iconSize)+' dropdown-toggle" data-toggle="dropdown">','<span class="page-size">',l?this.options.formatAllRows():this.options.pageSize,"</span>",' <span class="caret"></span>',"</button>",'<ul class="dropdown-menu" role="menu">'],n=this.options.pageList;if(typeof this.options.pageList==="string"){var w=this.options.pageList.replace("[","").replace("]","").replace(/ /g,"").split(",");n=[];e.each(w,function(D,E){n.push(E.toUpperCase()===p.options.formatAllRows().toUpperCase()?p.options.formatAllRows():+E)})}e.each(n,function(D,E){if(!p.options.smartDisplay||D===0||n[D-1]<=p.options.totalRows){var F;if(l){F=E===p.options.formatAllRows()?' class="active"':""}else{F=E===p.options.pageSize?' class="active"':""}y.push(g('<li%s><a href="javascript:void(0)">%s</a></li>',F,E))}});y.push("</ul></span>");s.push(this.options.formatRecordsPerPage(y.join("")));s.push("</span>");s.push("</div>",'<div class="pull-'+this.options.paginationHAlign+'">','<ul class="pagination'+(this.options.iconSize===undefined?"":" pagination-"+this.options.iconSize)+'">',this.options.showBottomRefresh?'<li class="page-refresh disabled"><a href="javascript:void(0)" title="刷新"><i class="glyphicon glyphicon-refresh"/>&nbsp;</a></li>':"",'<li class="page-first"><a href="javascript:void(0)">&lt;&lt;</a></li>','<li class="page-pre"><a href="javascript:void(0)">&lt;</a></li>');if(this.totalPages<5){u=1;m=this.totalPages}else{u=this.options.pageNumber-2;m=u+4;if(u<1){u=1;m=5}if(m>this.totalPages){m=this.totalPages;u=m-4}}for(v=u;v<=m;v++){s.push('<li class="page-number'+(v===this.options.pageNumber?" active":"")+'">','<a href="javascript:void(0)">',v,"</a>","</li>")}s.push('<li class="page-next"><a href="javascript:void(0)">&gt;</a></li>','<li class="page-last"><a href="javascript:void(0)">&gt;&gt;</a></li>',"</ul>","</div>");this.$pagination.html(s.join(""));r=this.$pagination.find(".page-list a");z=this.$pagination.find(".page-first");B=this.$pagination.find(".page-pre");x=this.$pagination.find(".page-next");t=this.$pagination.find(".page-last");o=this.$pagination.find(".page-number");if(this.options.showBottomRefresh){q=this.$pagination.find(".page-refresh")}if(this.options.pageNumber<=1){z.addClass("disabled");B.addClass("disabled")}if(this.options.pageNumber>=this.totalPages){x.addClass("disabled");t.addClass("disabled")}if(this.options.smartDisplay){if(this.totalPages<=1){this.$pagination.find("div.pagination").hide()}if(n.length<2||this.options.totalRows<=n[0]){this.$pagination.find("span.page-list").hide()}this.$pagination[this.getData().length?"show":"hide"]()}if(l){this.options.pageSize=this.options.formatAllRows()}r.off("click").on("click",e.proxy(this.onPageListChange,this));z.off("click").on("click",e.proxy(this.onPageFirst,this));B.off("click").on("click",e.proxy(this.onPagePre,this));x.off("click").on("click",e.proxy(this.onPageNext,this));t.off("click").on("click",e.proxy(this.onPageLast,this));o.off("click").on("click",e.proxy(this.onPageNumber,this));if(this.options.showBottomRefresh){q.off("click").on("click",e.proxy(this.onPageRefresh,this))}setTimeout(function(){if(p.options.showBottomRefresh){q.removeClass("disabled")}},2000)};c.prototype.updatePagination=function(l){if(l&&e(l.currentTarget).hasClass("disabled")){return}if(!this.options.maintainSelected){this.resetRows()}this.initPagination();if(this.options.sidePagination==="server"){this.initServer()}else{this.initBody()}this.trigger("page-change",this.options.pageNumber,this.options.pageSize)};c.prototype.onPageListChange=function(l){var m=e(l.currentTarget);m.parent().addClass("active").siblings().removeClass("active");this.options.pageSize=m.text().toUpperCase()===this.options.formatAllRows().toUpperCase()?this.options.formatAllRows():+m.text();this.$toolbar.find(".page-size").text(this.options.pageSize);this.updatePagination(l)};c.prototype.onPageFirst=function(l){this.options.pageNumber=1;this.updatePagination(l)};c.prototype.onPagePre=function(l){this.options.pageNumber--;this.updatePagination(l)};c.prototype.onPageNext=function(l){this.options.pageNumber++;this.updatePagination(l)};c.prototype.onPageLast=function(l){this.options.pageNumber=this.totalPages;this.updatePagination(l)};c.prototype.onPageNumber=function(l){if(this.options.pageNumber===+e(l.currentTarget).text()){return}this.options.pageNumber=+e(l.currentTarget).text();this.updatePagination(l)};c.prototype.onPageRefresh=function(l){if(l&&e(l.currentTarget).hasClass("disabled")){return}e(l.currentTarget).addClass("disabled");this.options.baseParams={};this.options.pageNumber=1;this.initServer()};c.prototype.initBody=function(q){var s=this,r=[],u,o=this.getData();this.trigger("pre-body",o);this.$body=this.$el.find("tbody");if(!this.$body.length){this.$body=e("<tbody></tbody>").appendTo(this.$el)}if(!this.options.pagination||this.options.sidePagination==="server"){this.pageFrom=1;this.pageTo=o.length}for(var p=this.pageFrom-1;p<this.pageTo;p++){var v,w=o[p],l={},m=[],n={},t=[];l=k(this.options,this.options.rowStyle,[w,p],l);if(l&&l.css){for(v in l.css){m.push(v+": "+l.css[v])}}n=k(this.options,this.options.rowAttributes,[w,p],n);if(n){for(v in n){t.push(g('%s="%s"',v,j(n[v])))}}r.push("<tr",g(" %s",t.join(" ")),g(' id="%s"',e.isArray(w)?undefined:w._id),g(' class="%s"',l.classes||(e.isArray(w)?undefined:w._class)),g(' data-index="%s"',p),g(' data-unique-id="%s"',w[this.options.uniqueId]),">");if(this.options.cardView){r.push(g('<td colspan="%s">',this.header.fields.length))}e.each(this.header.fields,function(I,x){var G="",H=w[x],D="",J={},z="",L=s.header.classes[I],F="",A=s.options.columns[d(s.options.columns,x)];var E=A.editable?"data-etype='"+A.etype+"'":"";l=g('style="%s"',m.concat(s.header.styles[I]).join("; "));H=k(s.header,s.header.formatters[I],[H,w,p],H);if(w["_"+x+"_id"]){z=g(' id="%s"',w["_"+x+"_id"])}if(w["_"+x+"_class"]){L=g(' class="%s"',w["_"+x+"_class"])}J=k(s.header,s.header.cellStyles[I],[H,w,p],J);if(J.classes){L=g(' class="%s"',J.classes)}if(J.css){var B=[];for(var M in J.css){B.push(M+": "+J.css[M])}l=g('style="%s"',B.concat(s.header.styles[I]).join("; "))}if(w["_"+x+"_data"]&&!e.isEmptyObject(w["_"+x+"_data"])){e.each(w["_"+x+"_data"],function(Q,P){if(Q==="index"){return}F+=g(' data-%s="%s"',Q,P)})}if(A.checkbox||A.radio){D=A.checkbox?"checkbox":D;D=A.radio?"radio":D;G=[s.options.cardView?'<div class="card-view">':'<td class="bs-checkbox">',"<input"+g(' data-index="%s"',p)+g(' name="%s"',s.options.selectItemName)+g(' type="%s"',D)+g(' value="%s"',w[s.options.idField])+g(' checked="%s"',H===true||(H&&H.checked)?"checked":undefined)+g(' disabled="%s"',!A.checkboxEnabled||(H&&H.disabled)?"disabled":undefined)+" />",s.options.cardView?"</div>":"</td>"].join("")}else{H=typeof H==="undefined"||H===null?s.options.undefinedText:H;var N="";if(H){if(typeof H==="string"){if(H.indexOf("<")>-1){N=""}else{if(H!="-"){N=H}}}}G=s.options.cardView?['<div class="card-view">',s.options.showHeader?g('<span class="title" %s>%s</span>',l,b(s.options.columns,"field","title",x)):"",g('<span class="value">%s</span>',H),"</div>"].join(""):[g('<td%s %s %s %s %s title="%s">',z,L,l,F,E,N),H,"</td>"].join("");if(A.filterControl!==undefined&&A.filterControl.toLowerCase()==="select"&&A.searchable){var K=e("."+A.field),O=0,y=false,C;if(K!==undefined){C=K.get(0).options;if(C.length===0){K.append(e("<option></option>").attr("value","").text(""));K.append(e("<option></option>").attr("value",H).text(H))}else{for(;O<C.length;O++){if(C[O].value===H){y=true;break}}if(!y){K.append(e("<option></option>").attr("value",H).text(H))}}}}if(s.options.cardView&&s.options.smartDisplay&&H===""){G=""}}r.push(G)});if(this.options.cardView){r.push("</td>")}r.push("</tr>")}if(!r.length){r.push('<tr class="no-records-found">',g('<td colspan="%s">%s，<a href="javascript:void(0);" class="no-records-reload">重新加载</a></td>',this.header.fields.length,this.options.formatNoMatches()),"</tr>")}this.$body.html(r.join(""));if(!q){this.scrollTo(0)}u=this.$body.find(".no-records-reload");this.$body.find("> tr > td").off("click").on("click",function(){var D=e(this).parent();var F=e(".info",D.parent());if(F.length>0){F.removeClass("info")}D.addClass("info");s.trigger("click-row",s.data[D.data("index")],D);if(s.options.clickToSelect){if(s.header.clickToSelects[D.children().index(e(this))]){if(s.data!=null&&s.data.length>0){D.find(g('[name="%s"]',s.options.selectItemName))[0].click()}}}if(s.options.editable){var E=e(this),I=D.data("index"),J=D.children().index(E),A=s.options.columns[J],G=A.etype;if(G&&E.find(G=="date"?"input":G).length==0&&G!="radio"){var H=A.field,B=s.data[I],x=s.data[I][H];E.css({width:E.width()+17+"px",padding:"1px"});E.empty();if(A.value){if(A.value instanceof Function){x=A.value(x,B,I,E)}else{x=A.value}}if(G==="input"){E.append(e("<input>").val(x).addClass("form-control"))}else{if(G==="select"){var C='<select class="form-control">';if(!x){C+='<option value="" selected>请选择</option>'}if(A.queryParams){var y=A.queryParams(x,B,I);s.refreshSelectData(A,J,y)}e.each(A.selectData,function(K,L){if(x&&x==L[A.hideField||"id"]){C+='<option value="';C+=x;C+='" selected>';C+=L[A.displayField||"name"];C+="</option>"}else{C+='<option value="';C+=L[A.hideField||"id"];C+='">';C+=L[A.displayField||"name"];C+="</option>"}});C+="</select>";E.append(C)}else{if(G==="date"){var z={format:A.format||"yyyy-mm-dd",weekStart:1,autoclose:true,startView:2,minView:A.minView||2,forceParse:false};E.append(e("<input>").addClass("form-control"));E.find("input").datetimepicker(z).on("changeDate",function(L){var K=e(this).datetimepicker("getFormattedDate");if(x!=K){var M={index:I,row:{}};M.row[H]=K;s.updateRow(M)}E.html("");E.css({width:"auto",padding:"8px"});E.text(K)})}}}if(G=="select"||G=="input"){if(G==="select"){if(A.queryParams){s.refreshSelectData(A,J)}}E.find(G).off("blur").blur(function(){var K=e(this);var L=K.val();if(x!=L){var M={index:I,row:{}};if(A.blur){M.row=A.blur.call(this,L,H,I)}else{M.row[H]=L}s.updateRow(M)}if(L&&G==="select"){L=K.find("option:selected").text()}E.html("");E.css({width:"auto",padding:"8px"});E.text(L)})}E.find(G=="date"?"input":G).focus()}}});if(s.options.clickToEdit==2){this.$body.find("> tr > td").off("dblclick").on("dblclick",function(){var D=e(this);var x=D.data("etype");if(x){var B=e(this).parent();var z=B.children().index(D);var A=this.options.columns[z];var C=s.data[B.data("index")];var y=C[A.field];D.css({width:D.width()});if(x==="input"){D.html("");D.append(e("<input>").val(y).addClass("btn").addClass("input-sm").css({padding:"0px",width:"100%",height:"auto",cursor:"text"}).off("blur").no("blur",function(){D.css({width:"auto"})}));D.find(x).focus()}else{if(x==="select"){}else{if(x==="date"){}}}}})}if(s.options.editable){this.$body.find("> tr > td").each(function(C,z){var E=e(this),D=e(this).parent(),H=D.data("index"),A=s.options.columns[D.children().index(E)],F=A.etype;if(F&&(F==="checkbox"||F==="radio")){var G=A.field,B=s.data[H],x=s.data[H][G];E.empty();if(A.value){if(A.value instanceof Function){x=A.value(x,B,H,E)}else{x=A.value}}if(F==="checkbox"){}if(F==="radio"){var y=G+H;e.each(A.selectData,function(J,I){if(I.value==x){E.append(e('<input type="radio" name="'+y+'" value="'+I.value+'" checked="checked" />').click(function(){if(this.checked){var K=e(this);var L=K.val();var M={index:H,row:{}};M.row[G]=L;s.updateRow(M)}}))}else{E.append(e('<input type="radio" name="'+y+'" value="'+I.value+'"/>').click(function(){if(this.checked){var K=e(this);var L=K.val();var M={index:H,row:{}};M.row[G]=L;s.updateRow(M)}}))}E.append(I.label);if(A.selectData.length-1>J){E.append("&nbsp;&nbsp;")}})}}})}if(s.options.clickToEdit==0){this.$body.find("> tr > td").each(function(C,z){var F=e(this);var G=F.data("etype");if(G){var E=e(this).parent(),I=E.data("index"),A=s.options.columns[E.children().index(F)],H=A.field,B=s.data[I],x=s.data[I][H];F.css({width:F.width(),padding:"1px"});F.html("");if(G==="input"){F.append(e("<input>").val(x).addClass("form-control"))}else{if(G==="select"){var D='<select class="form-control">';if(!x){D+='<option value="" selected>请选择</option>'}e.each(A.selectData,function(J,K){if(x&&x==K[A.hideField||"id"]){D+='<option value="';D+=x;D+='" selected>';D+=K[A.displayField||"name"];D+="</option>"}else{D+='<option value="';D+=K[A.hideField||"id"];D+='">';D+=K[A.displayField||"name"];D+="</option>"}});D+="</select>";F.append(D)}else{if(G==="date"){var y={format:A.format||"yyyy-mm-dd",weekStart:1,autoclose:true,startView:2,minView:A.minView||2,forceParse:false,language:"zh-CN"};F.append(e("<input>").addClass("form-control"));F.find("input").datetimepicker(y)}}}F.find(G).blur(function(){if(x!=e(this).val()){var J={index:I,row:{}};J.row[H]=e(this).val();s.updateRow(J)}})}})}this.$body.find("tr").off("dblclick").on("dblclick",function(){s.trigger("dbl-click-row",s.data[e(this).data("index")],e(this))});this.$selectItem=this.$body.find(g('[name="%s"]',this.options.selectItemName));this.$selectItem.off("click").on("click",function(y){y.stopImmediatePropagation();var x=e(this).prop("checked"),z=s.data[e(this).data("index")];z[s.header.stateField]=x;s.trigger(x?"check":"uncheck",z);if(s.options.singleSelect){s.$selectItem.not(this).each(function(){s.data[e(this).data("index")][s.header.stateField]=false});s.$selectItem.filter(":checked").not(this).prop("checked",false)}s.updateSelected()});e.each(this.header.events,function(z,y){if(!y){return}if(typeof y==="string"){y=k(null,y)}for(var x in y){s.$body.find("tr").each(function(){var E=e(this),F=E.find(s.options.cardView?".card-view":"td").eq(z),B=x.indexOf(" "),A=x.substring(0,B),C=x.substring(B+1),D=y[x];F.find(C).off(A).on(A,function(I){var G=E.data("index"),J=s.data[G],H=J[s.header.fields[z]];D.apply(this,[I,H,J,G])})})}});this.updateSelected();this.resetView();u.off("click").on("click",e.proxy(this.refresh,this));this.trigger("post-body")};c.prototype.selectFirst=function(l){var n=this;var m=this.$body.find('[data-index="0"]');m.addClass("info");n.trigger("click-row",n.data[0],m);if(n.options.clickToSelect&&l){if(n.header.clickToSelects[l]){if(n.data!=null&&n.data.length>0){m.find(g('[name="%s"]',n.options.selectItemName))[0].click()}}}};c.prototype.toEdit=function(m){var l=this};c.prototype.refreshSelectData=function(m,l,o){var n=this,p={start:0,limit:10000,sort:m.hideField||"id",dir:m.order,includeFields:(m.hideField||"id")+","+(m.displayField||"name")};e.extend(p,o||{});e.ajax({url:m.url,async:false,dataType:"json",type:"post",data:p,success:function(q){n.options.columns[l].selectData=q.result}})};c.prototype.initServer=function(l,o){var m=this,n={},p={pageSize:this.options.pageSize===this.options.formatAllRows()?this.options.totalRows:this.options.pageSize,pageNumber:this.options.pageNumber,sortName:this.options.sortName||"id",includeFields:this.options.includeFields,sortOrder:this.options.sortOrder||"desc"};if(!this.options.url){return}if(this.options.queryParamsType==="limit"){p={sort:p.sortName,includeFields:p.includeFields,dir:p.sortOrder};if(this.options.pagination){p.limit=this.options.pageSize===this.options.formatAllRows()?this.options.totalRows:this.options.pageSize;p.start=this.options.pageSize===this.options.formatAllRows()?0:this.options.pageSize*(this.options.pageNumber-1)}else{p.limit=999999999;p.start=0}}if(!(e.isEmptyObject(this.filterColumnsPartial))){p["filter"]=JSON.stringify(this.filterColumnsPartial,null)}n=k(this.options,this.options.queryParams,[p],n);if(n===false){return}this.$loading.show();if(!l){e.extend(this.options.baseParams,n)}else{if(o){e.extend(n,o||{});this.options.baseParams=n;for(var q in this.options.baseParams){if(!this.options.baseParams[q]){delete this.options.baseParams[q]}}}if(this.options.baseParams["start"]===undefined){this.options.baseParams=n}}e.ajax(e.extend({},k(null,this.options.ajaxOptions),{type:this.options.method,url:this.options.url,data:this.options.contentType==="application/json"&&this.options.method==="post"?JSON.stringify(this.options.baseParams):this.options.baseParams,cache:this.options.cache,contentType:this.options.contentType,dataType:this.options.dataType,success:function(r){r=k(m.options,m.options.responseHandler,[r],r);m.load(r);m.trigger("load-success",r)},error:function(r){m.trigger("load-error",r.status)},complete:function(){m.$loading.hide();setTimeout(function(){if(m.options.refreshBButton){if(m.options.refreshBButton instanceof Array){e.each(m.options.refreshBButton,function(s,r){})}else{e(m.options.refreshBButton).button("reset")}}if(m.options.switchRefreshConfig&&e(m.options.switchRefreshConfig.selector)[0]){e(m.options.switchRefreshConfig.selector).removeClass(m.options.switchRefreshConfig.cls)}},2000)}}))};c.prototype.initKeyEvents=function(){if(this.options.keyEvents){var l=this;e(document).off("keypress").on("keypress",function(q){var p=l.$toolbar.find(".search input"),m=l.$toolbar.find('button[name="refresh"]'),n=l.$toolbar.find('button[name="toggle"]'),o=l.$toolbar.find('button[name="paginationSwitch"]');switch(q.keyCode){case 115:case 83:if(!l.options.search){return}if(document.activeElement===p.get(0)){return true}p.focus();return false;case 114:case 82:if(!l.options.showRefresh){return}if(document.activeElement===p.get(0)){return true}m.click();return false;case 116:case 84:if(!l.options.showToggle){return}if(document.activeElement===p.get(0)){return true}n.click();return false;case 112:case 80:if(!l.options.showPaginationSwitch){return}if(document.activeElement===p.get(0)){return true}o.click();return false}})}};c.prototype.getCaretHtml=function(){return['<span class="order'+(this.options.sortOrder==="desc"?"":" dropup")+'">','<span class="caret" style="margin: 10px 5px;"></span>',"</span>"].join("")};c.prototype.updateSelected=function(){var l=this.$selectItem.filter(":enabled").length===this.$selectItem.filter(":enabled").filter(":checked").length;this.$selectAll.add(this.$selectAll_).prop("checked",l);this.$selectItem.each(function(){e(this).parents("tr")[e(this).prop("checked")?"addClass":"removeClass"]("selected")})};c.prototype.updateRows=function(m){var l=this;this.$selectItem.each(function(){l.data[e(this).data("index")][l.header.stateField]=m})};c.prototype.resetRows=function(){var l=this;e.each(this.data,function(m,n){l.$selectAll.prop("checked",false);l.$selectItem.prop("checked",false);n[l.header.stateField]=false})};c.prototype.trigger=function(m){var l=Array.prototype.slice.call(arguments,1);m+=".bs.table";this.options[c.EVENTS[m]].apply(this.options,l);this.$el.trigger(e.Event(m),l);this.options.onAll(m,l);this.$el.trigger(e.Event("all.bs.table"),[m,l])};c.prototype.resetHeader=function(){this.$el.css("margin-top",-41);clearTimeout(this.timeoutId_);this.timeoutId_=setTimeout(e.proxy(this.fitHeader,this),this.$el.is(":hidden")?100:0);return};c.prototype.fitHeader=function(){var m=this,n,o,l;if(m.$el.is(":hidden")){m.timeoutFooter_=setTimeout(e.proxy(m.fitHeader,m),100);return}n=m.$container.find(".fixed-table-header"),o=m.$container.find(".fixed-table-body"),l=m.$el.width()>o.width()?a():0;m.$header_=m.$header.clone(true,true);m.$selectAll_=m.$header_.find('[name="btSelectAll"]');n.css({"margin-right":l}).find("table").css("width",m.$el.css("width")).html("").attr("class",m.$el.attr("class")).append(m.$header_);m.$header.find("th").each(function(p){m.$header_.find("th").eq(p).data(e(this).data())});m.$body.find("tr:first-child:not(.no-records-found) > *").each(function(p){if(!!window.ActiveXObject||"ActiveXObject" in window){m.$header_.find("div.fht-cell").eq(p).width(e(this).innerWidth()-1)}else{m.$header_.find("div.fht-cell").eq(p).width(e(this).innerWidth())}});o.off("scroll").on("scroll",function(){n.scrollLeft(e(this).scrollLeft())});m.trigger("post-header")};c.prototype.resetFooter=function(){var m=this,n=m.getData(),l=[];if(!this.options.showFooter||this.options.cardView){return}e.each(this.options.columns,function(p,r){var s="",q="",o=g(' class="%s"',r["class"]);if(!r.visible){return}if(m.options.cardView&&(!r.cardVisible)){return}s=g("text-align: %s; ",r.falign?r.falign:r.align);q=g("vertical-align: %s; ",r.valign);l.push("<td",o,g(' style="%s"',s+q),">");l.push(k(r,r.footerFormatter,[n],"&nbsp;")||"&nbsp;");l.push("</td>")});this.$footer.find("tr").html(l.join(""));clearTimeout(this.timeoutFooter_);this.timeoutFooter_=setTimeout(e.proxy(this.fitFooter,this),this.$el.is(":hidden")?100:0)};c.prototype.fitFooter=function(){var o=this,p,l,n,m;clearTimeout(this.timeoutFooter_);if(this.$el.is(":hidden")){this.timeoutFooter_=setTimeout(e.proxy(this.fitFooter,this),100);return}p=this.$container.find(".fixed-table-body");n=this.$el.css("width");m=n>p.width()?a():0;this.$footer.css({"margin-right":m}).find("table").css("width",n).attr("class",this.$el.attr("class"));l=this.$footer.find("td");p.find("tbody tr:first-child:not(.no-records-found) > td").each(function(q){l.eq(q).outerWidth(e(this).outerWidth())})};c.prototype.toggleColumn=function(l,m,o){if(l===-1){return}this.options.columns[l].visible=m;this.initHeader();this.initSearch();this.initPagination();this.initBody();if(this.options.showColumns){var n=this.$toolbar.find(".keep-open input").prop("disabled",false);if(o){n.filter(g('[value="%s"]',l)).prop("checked",m)}if(n.filter(":checked").length<=this.options.minimumCountColumns){n.filter(":checked").prop("disabled",true)}}};c.prototype.toggleRow=function(l,m,n){if(l===-1){return}e(this.$body[0]).children().filter(g(m?'[value="%s"]':'[data-index="%s"]',l))[n?"show":"hide"]()};c.prototype.resetView=function(q){var n=this,o=0,m=n.$container.find(".fixed-table-container");if(q&&q.height){this.options.height=q.height}this.$selectAll.prop("checked",this.$selectItem.length>0&&this.$selectItem.length===this.$selectItem.filter(":checked").length);if(this.options.height){var p=+this.$toolbar.children().outerHeight(true),r=+this.$pagination.children().outerHeight(true),l=this.options.height-p-r;m.css("height",l+"px")}if(this.options.cardView){n.$el.css("margin-top","0");m.css("padding-bottom","0");return}if(this.options.showHeader&&this.options.height){this.$container.find(".fixed-table-header").show();this.resetHeader();o+=h}else{this.$container.find(".fixed-table-header").hide();this.trigger("post-header")}if(this.options.showFooter){this.resetFooter();if(this.options.height){o+=h}}m.css("padding-bottom",o+"px")};c.prototype.getData=function(){return(this.searchText||!e.isEmptyObject(this.filterColumns)||!e.isEmptyObject(this.filterColumnsPartial))?this.data:this.options.data};c.prototype.load=function(m){var l=false;if(this.options.sidePagination==="server"){this.options.totalRows=m.totalCount;l=true;m=m.result}else{if(!e.isArray(m)){l=m.fixedScroll;m=m.result}}this.initData(m);this.initSearch();this.initPagination();this.initBody(l)};c.prototype.append=function(l){this.initData(l,"append");this.initSearch();this.initPagination();this.initBody(true)};c.prototype.prepend=function(l){this.initData(l,"prepend");this.initSearch();this.initPagination();this.initBody(true)};c.prototype.remove=function(o){var l=this.options.data.length,m,n;if(!o.hasOwnProperty("field")||!o.hasOwnProperty("values")){return}for(m=l-1;m>=0;m--){n=this.options.data[m];if(!n.hasOwnProperty(o.field)){continue}if(e.inArray(n[o.field],o.values)!==-1){this.options.data.splice(m,1)}}if(l===this.options.data.length){return}this.initSearch();this.initPagination();this.initBody(true)};c.prototype.removeAll=function(){this.data=[];this.options.data=[];this.initSearch();this.initPagination();this.initBody(true)};c.prototype.removeByRowIndex=function(m){var l=this.options.data.length;this.options.data.splice(m,1);if(l===this.options.data.length){return}this.initSearch();this.initPagination();this.initBody(true)};c.prototype.insertRow=function(l){if(!l.hasOwnProperty("index")||!l.hasOwnProperty("row")){return}this.data.splice(l.index,0,l.row);this.initSearch();this.initPagination();this.initBody(true)};c.prototype.updateRow=function(l){if(!l.hasOwnProperty("index")||!l.hasOwnProperty("row")){return}e.extend(this.data[l.index],l.row);this.updateModifyData(this.data[l.index]);this.initBody(true)};c.prototype.getModifyData=function(){return this.modifyData||null};c.prototype.updateModifyData=function(p){if(this.modifyData){var m=this.options.idField||"id";var o=this;if(p[m]){var l=true,n=p;e.each(this.modifyData,function(q,r){if(r[m]===n[m]){e.extend(o.modifyData[q],n);l=false}});if(l){this.modifyData.push(n)}}}else{this.modifyData=new Array();this.modifyData.push(p)}};c.prototype.showRow=function(l){if(!l.hasOwnProperty("index")){return}this.toggleRow(l.index,l.isIdField===undefined?false:true,true)};c.prototype.hideRow=function(l){if(!l.hasOwnProperty("index")){return}this.toggleRow(l.index,l.isIdField===undefined?false:true,false)};c.prototype.getRowsHidden=function(l){var n=e(this.$body[0]).children().filter(":hidden"),m=0;if(l){for(;m<n.length;m++){e(n[m]).show()}}return n};c.prototype.mergeCells=function(t){var s=t.index,n=e.inArray(t.field,this.header.fields),o=t.rowspan||1,m=t.colspan||1,q,p,r=this.$body.find("tr"),l=r.eq(s).find("td").eq(n);if(s<0||n<0||s>=this.data.length){return}for(q=s;q<s+o;q++){for(p=n;p<n+m;p++){r.eq(q).find("td").eq(p).hide()}}l.attr("rowspan",o).attr("colspan",m).show()};c.prototype.getOptions=function(){return this.options};c.prototype.getSelections=function(){var l=this;return e.grep(this.data,function(m){return m[l.header.stateField]})};c.prototype.checkAll=function(){this.checkAll_(true)};c.prototype.uncheckAll=function(){this.checkAll_(false)};c.prototype.checkAll_=function(l){var m;if(!l){m=this.getSelections()}this.$selectItem.filter(":enabled").prop("checked",l);this.updateRows(l);this.updateSelected();if(l){m=this.getSelections()}this.trigger(l?"check-all":"uncheck-all",m)};c.prototype.check=function(l){this.check_(true,l)};c.prototype.uncheck=function(l){this.check_(false,l)};c.prototype.check_=function(m,l){this.$selectItem.filter(g('[data-index="%s"]',l)).prop("checked",m);this.data[l][this.header.stateField]=m;this.updateSelected();this.trigger(m?"check":"uncheck",this.data[l])};c.prototype.checkBy=function(l){this.checkBy_(true,l)};c.prototype.uncheckBy=function(l){this.checkBy_(false,l)};c.prototype.checkBy_=function(m,n){if(!n.hasOwnProperty("field")||!n.hasOwnProperty("values")){return}var l=this;e.each(this.options.data,function(o,p){if(!p.hasOwnProperty(n.field)){return false}if(e.inArray(p[n.field],n.values)!==-1){l.$selectItem.filter(g('[data-index="%s"]',o)).prop("checked",m);p[l.header.stateField]=m;l.trigger(m?"check":"uncheck",p)}});this.updateSelected()};c.prototype.destroy=function(){this.$el.insertBefore(this.$container);e(this.options.toolbar).insertBefore(this.$el);this.$container.next().remove();this.$container.remove();this.$el.html(this.$el_.html()).css("margin-top","0").attr("class",this.$el_.attr("class")||"")};c.prototype.showLoading=function(){this.$loading.show()};c.prototype.hideLoading=function(){this.$loading.hide()};c.prototype.togglePagination=function(){this.options.pagination=!this.options.pagination;var l=this.$toolbar.find('button[name="paginationSwitch"] i');if(this.options.pagination){l.attr("class",this.options.iconsPrefix+" "+this.options.icons.paginationSwitchDown)}else{l.attr("class",this.options.iconsPrefix+" "+this.options.icons.paginationSwitchUp)}this.updatePagination()};c.prototype.refresh=function(m){if(m&&m.url){this.options.url=m.url;this.options.pageNumber=1}if(this.options.refreshBButton){if(this.options.refreshBButton instanceof Array){e.each(this.options.refreshBButton,function(o,n){})}else{e(this.options.refreshBButton).button("loading")}}if(this.options.switchRefreshConfig){var l=e(this.options.switchRefreshConfig.selector);if(l[0]){if(l.hasClass(this.options.switchRefreshConfig.cls)){return}else{l.addClass(this.options.switchRefreshConfig.cls)}}}this.initServer(true,m&&m.query)};c.prototype.showColumn=function(l){this.toggleColumn(d(this.options.columns,l),true,true)};c.prototype.hideColumn=function(l){this.toggleColumn(d(this.options.columns,l),false,true)};c.prototype.filterBy=function(l){this.filterColumns=e.isEmptyObject(l)?{}:l;this.options.pageNumber=1;this.initSearch();this.updatePagination()};c.prototype.scrollTo=function(m){var l=this.$container.find(".fixed-table-body");if(typeof m==="string"){m=m==="bottom"?l[0].scrollHeight:0}if(typeof m==="number"){l.scrollTop(m)}};c.prototype.selectPage=function(l){if(l>0&&l<=this.options.totalPages){this.options.pageNumber=l;this.updatePagination()}};c.prototype.prevPage=function(){if(this.options.pageNumber>1){this.options.pageNumber--;this.updatePagination()}};c.prototype.nextPage=function(){if(this.options.pageNumber<this.options.totalPages){this.options.pageNumber++;this.updatePagination()}};c.prototype.toggleView=function(){this.options.cardView=!this.options.cardView;this.initHeader();this.initBody()};var i=["getOptions","getSelections","getData","load","append","prepend","remove","insertRow","updateRow","showRow","hideRow","getRowsHidden","mergeCells","checkAll","uncheckAll","check","uncheck","checkBy","uncheckBy","refresh","removeAll","resetView","destroy","showLoading","hideLoading","showColumn","hideColumn","filterBy","scrollTo","selectFirst","selectPage","prevPage","nextPage","togglePagination","getModifyData","toggleView","removeByRowIndex"];e.fn.bootstrapTable=function(l,n){var m;this.each(function(){var q=e(this),p=q.data("bootstrap.table"),o=e.extend({},c.DEFAULTS,q.data(),typeof l==="object"&&l);if(typeof l==="string"){if(e.inArray(l,i)<0){throw"未知的方法： "+l}if(!p){return}m=p[l](n);if(l==="destroy"){q.removeData("bootstrap.table")}}if(!p){o.baseParams={};q.data("bootstrap.table",(p=new c(this,o)));q.resize(function(){if(o.height){q.bootstrapTable("resetView",{height:o.height})}})}});return typeof m==="undefined"?this:m};e.fn.bootstrapTable.Constructor=c;e.fn.bootstrapTable.defaults=c.DEFAULTS;e.fn.bootstrapTable.columnDefaults=c.COLUMN_DEFAULTS;e.fn.bootstrapTable.locales=c.LOCALES;e.fn.bootstrapTable.methods=i;e(function(){e('[data-toggle="table"]').bootstrapTable()})}(jQuery);